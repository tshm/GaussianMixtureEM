<!DOCTYPE html><!--[if lt IE 7]><html class='no-js lt-ie9 lt-ie8 lt-ie7'><![endif]--><!--[if IE 7]><html class='no-js lt-ie9 lt-ie8'><![endif]--><!--[if IE 8]><html class='no-js lt-ie9'><![endif]--><!--[if gt IE 8]><html class='no-js'><![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>EM for Gaussian Mixture</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">
  <!-- build:css styles/styles.css-->
  <link rel="stylesheet" href="styles/bootstrap.css">
  <link rel="stylesheet" href="styles/icons.css">
  <link rel="stylesheet" href="styles/main.css">
  <!-- endbuild-->
</head>
<body ng-app="emjsApp"><!--[if lt IE 7]>
  <p class="chromeframe">You are using an outdated browser.<a href="http://browsehappy.com/">Upgrade your browser today</a>or<a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a>to better experience this site.</p><![endif]--><!--[if lt IE 9]>
  <script src="scripts/vendor/es5-shim.min.js"></script>
  <script src="scripts/vendor/json3.min.js"></script><![endif]-->
  <div ng-controller="MainCtrl" ng-init="debug = true" class="container">
    <h2>Expectation Maximization for Gaussian Mixture</h2>
    <div ng-init="step = false" ng-show="step">
      <button ng-click="iterate()">Step</button>
      <button ng-click="run()">RUN</button>
    </div>
    <div class="row">
      <div class="span8">
        <!--span(ng-show='result.L ') LogLikelihood :-->
        <!--	span.label {{ result.L | number:2 }}-->
        <div ng-show="calculating" class="loading"></div>
        <div ng-hide="calculating">
          <div id="plot" flot="graphdata" flot-options="graphoptions" click="plotclick(args)"></div>
        </div>
        <!--div {{ graphdata }}-->
      </div>
      <!--.span4(ng-show="debug") {{ dataset | json }}-->
    </div>
    <div ng-controller="DataItemCtrl" ng-repeat="ds in dataset" ng-init="data=ds.data; result=ds.result" class="row">
      <div class="span6"><span ng-click="hide=!hide" ng-class="{opened: hide, closed: !hide}"><span class="label">{{ $index }} : {{ ds.name }}</span></span>[<a title="toggle graph" ng-click="ds.show=!ds.show">{{ ds.show && "hide" || "show" }}</a>]<span ng-hide="dataset.length == 1">[<a title="delete dataset" ng-click="dataset.splice($index,1)">delete</a>]</span>[<a title="insert dataset" ng-click="addDataSet($index)">insert</a>]</div>
      <form ng-hide="hide" ng-submit="setInitialCondition(model0)" class="form form-inline">
        <div class="span7">
          <div class="pull-right">
            <label>binsize:
              <input type="text" ng-model="binsize" class="input input-small">
            </label>
            <button ng-click="model0.push({m:0,s:30,p:1,focus:true})" class="btn">add cluster</button>
            <input type="submit" class="btn btn-success">
          </div>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>#</th>
                <th>init m</th>
                <th>result m</th>
                <th>result s</th>
                <th>result p</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="m in model0">
                <td><span class="badge">{{ $index }}</span></td>
                <td>
                  <input type="number" ng-model="model0[$index].m" focus="model0[$index].focus" class="input input-small"><a ng-click="remove($index)">&times;</a>
                </td>
                <td>{{ result.model[$index].m | number:0 }}</td>
                <td>{{ result.model[$index].s | number:0 }}</td>
                <td>{{ result.model[$index].p | number:2 }}</td>
              </tr>
            </tbody>
          </table>
          <div ng-show="debug">model0: {{ model0 | json }}</div>
        </div>
        <div drop-area="filelist" class="span3 well">
          <textarea plot-data-input-field ng-model="data" rows="9"></textarea>
          <button file-select="filelist" class="btn">select file</button>
          <button ng-click="sort()" class="btn">sort</button>
        </div>
      </form>
    </div>
  </div>
  <!-- build:js scripts/vendors.js-->
  <script src="components/jquery/jquery.js"></script>
  <script src="scripts/vendor/angular.js"></script>
  <script src="components/flot/jquery.flot.js"></script>
  <!-- endbuild-->
  <!-- build:js scripts/scripts.js-->
  <script src="scripts/shim.js"></script>
  <script src="scripts/GMEM.js"></script>
  <script src="scripts/directives.js"></script>
  <script src="scripts/app.js"></script>
  <!-- endbuild-->
  <!-- Google Analytics-->
  <script>
    var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
     g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
     s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>
</body></html>